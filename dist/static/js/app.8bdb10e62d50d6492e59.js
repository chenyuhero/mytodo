webpackJsonp([1],{"4KtW":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"topbar"}},[a("div",{staticClass:"wrapper"},[a("span",{staticClass:"logo"},[t._v("Todo\n\t\t\t\t"),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-dui"}})])]),t._v(" "),t.currentUser?t._e():a("div",{staticClass:"actions"},[a("el-button",{attrs:{value:"signUp"},on:{click:t.showlogin},model:{value:t.actionType,callback:function(e){t.actionType=e},expression:"actionType"}},[t._v("登录")]),t._v(" "),a("el-button",{attrs:{type:"primary",value:"login"},on:{click:t.regist},model:{value:t.actionType,callback:function(e){t.actionType=e},expression:"actionType"}},[t._v("注册")])],1),t._v(" "),t.currentUser?a("div",{staticClass:"actions"},[a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.currentUser.username))]),t._v(" "),a("el-button",{attrs:{value:"logoff"},on:{click:t.logout},model:{value:t.actionType,callback:function(e){t.actionType=e},expression:"actionType"}},[t._v("注销")])],1):t._e()]),t._v(" "),a("div",{class:{show:t.loginr}},[a("div",{attrs:{id:"regist"}},[a("div",{staticClass:"panel"},[a("form",{on:{submit:function(e){e.preventDefault(),t.signUp(e)}}},[a("header",[a("span",{staticClass:"close",on:{click:t.close}},[t._v("×")]),t._v(" "),a("h3",[t._v("现在Todo\n\t                    \t"),a("svg",{staticClass:"icon"},[a("use",{attrs:{"xlink:href":"#icon-dui"}})])])]),t._v(" "),a("main",[a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.formData.username},on:{input:function(e){e.target.composing||(t.formData.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||(t.formData.password=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.repassword,expression:"formData.repassword"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:t.formData.repassword},on:{input:function(e){e.target.composing||(t.formData.repassword=e.target.value)}}})])]),t._v(" "),a("footer",[a("div",[a("input",{staticClass:"inputbutton",attrs:{type:"submit",value:"提交"},on:{click:t.close}})])])])])])]),t._v(" "),a("div",{class:{hide:t.hidel}},[a("div",{attrs:{id:"login"}},[a("div",{staticClass:"panel"},[a("form",{on:{submit:function(e){e.preventDefault(),t.login(e)}}},[a("header",[a("span",{staticClass:"close",on:{click:t.close}},[t._v("×")]),t._v(" "),a("h3",[t._v("现在Todo\n\t                    \t"),a("svg",{staticClass:"icon"},[a("use",{attrs:{"xlink:href":"#icon-dui"}})])])]),t._v(" "),a("main",[a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],attrs:{type:"text",placeholder:"用户名"},domProps:{value:t.formData.username},on:{input:function(e){e.target.composing||(t.formData.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||(t.formData.password=e.target.value)}}})])]),t._v(" "),a("footer",[a("div",[a("input",{staticClass:"inputbutton",attrs:{type:"submit",value:"登录"},on:{click:t.close}})]),t._v(" "),a("a",{attrs:{href:""}},[t._v("没有账号?")]),t._v(" "),a("a",{attrs:{href:""}},[t._v("忘记密码")])])])])])])]),t._v(" "),a("div",{staticClass:"layout"},[a("div",{staticClass:"rate"},t._l([0,1,2,3],function(e){return a("div",{staticClass:"bar",class:{active:t.currentTab===e,bar1:0==e,bar2:1==e,bar3:2==e,bar4:3==e},on:{click:function(a){t.currentTab=e}}},[t._v("\n\t\t\t\t\t"+t._s(t.tags[e])+"\n\t\t\t")])})),t._v(" "),a("div",{staticClass:"todo"},[t._l([0,1,2,3],function(e){return a("div",{staticClass:"newTask ",class:{active:t.currentTab===e}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodo,expression:"newTodo"}],class:{bar1:0==e,bar2:1==e,bar3:2==e,bar4:3==e},attrs:{type:"text",placeholder:"输入任务，按Enter键完成"},domProps:{value:t.newTodo},on:{keypress:function(a){if(!("button"in a)&&t._k(a.keyCode,"enter",13))return null;t.addTodo(e)},input:function(e){e.target.composing||(t.newTodo=e.target.value)}}})])}),t._v(" "),t._l([0,1,2,3],function(e){return a("ul",{staticClass:"todos"},t._l(t.todoList[e],function(s){return a("li",[a("div",{staticClass:"circle ",class:{bar1:0==e,bar2:1==e,bar3:2==e,bar4:3==e}}),t._v(" "),a("span",[t._v("\n\t        \t\t"+t._s(s.title)+"\t\n\n\t        \t\t"),a("a",[a("svg",{staticClass:"icon",on:{click:function(a){t.Todone(s,e)}}},[a("use",{attrs:{"xlink:href":"#icon-dui4"}})])]),t._v(" "),a("a",{on:{click:function(a){t.removeTodo(s,e)}}},[a("svg",{staticClass:"icon "},[a("use",{attrs:{"xlink:href":"#icon-false-circle"}})])])])])}))})],2),t._v(" "),a("div",{staticClass:"done"},[a("h3",[t._v("今日已完成")]),t._v(" "),t._l([0,1,2,3],function(e){return a("ul",t._l(t.doneList[e],function(s){return a("li",{class:{bar1:0==e,bar2:1==e,bar3:2==e,bar4:3==e}},[t._v("\n\t      \t\t\t"+t._s(s.title)+" \n\t      \t\t")])}))})],2)])])},o=[],n={render:s,staticRenderFns:o};e.a=n},"5CTj":function(t,e,a){"use strict";function s(t){a("IJKl")}var o=a("Iay8"),n=a("4KtW"),r=a("VU/8"),i=s,c=r(o.a,n.a,i,"data-v-33f4bef6",null);e.a=c.exports},IJKl:function(t,e){},IPlX:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"topbar"}},[a("div",{staticClass:"wrapper"},[a("span",{staticClass:"logo"},[t._v("Todo\n\t\t\t\t"),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-dui"}})])]),t._v(" "),t.currentUser?t._e():a("div",{staticClass:"actions"},[a("el-button",{attrs:{value:"signUp"},on:{click:t.showlogin},model:{value:t.actionType,callback:function(e){t.actionType=e},expression:"actionType"}},[t._v("登录")]),t._v(" "),a("el-button",{attrs:{type:"primary",value:"login"},on:{click:t.regist},model:{value:t.actionType,callback:function(e){t.actionType=e},expression:"actionType"}},[t._v("注册")])],1),t._v(" "),t.currentUser?a("div",{staticClass:"actions"},[a("el-button",{attrs:{value:"logoff"},on:{click:t.logout},model:{value:t.actionType,callback:function(e){t.actionType=e},expression:"actionType"}},[t._v("注销")])],1):t._e()]),t._v(" "),a("div",{class:{show:t.loginr}},[a("div",{attrs:{id:"regist"}},[a("div",{staticClass:"panel"},[a("form",{on:{submit:function(e){e.preventDefault(),t.signUp(e)}}},[a("header",[a("span",{staticClass:"close",on:{click:t.close}},[t._v("×")]),t._v(" "),a("h3",[t._v("现在Todo\n\t                    \t"),a("svg",{staticClass:"icon"},[a("use",{attrs:{"xlink:href":"#icon-dui"}})])])]),t._v(" "),a("main",[a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],attrs:{type:"text",placeholder:"邮箱"},domProps:{value:t.formData.username},on:{input:function(e){e.target.composing||(t.formData.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||(t.formData.password=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"确认密码"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||(t.formData.password=e.target.value)}}})])]),t._v(" "),a("footer",[a("div",[a("input",{staticClass:"inputbutton",attrs:{type:"submit",value:"提交"},on:{click:t.close}})])])])])])]),t._v(" "),a("div",{class:{hide:t.hidel}},[a("div",{attrs:{id:"login"}},[a("div",{staticClass:"panel"},[a("form",{on:{submit:function(e){e.preventDefault(),t.login(e)}}},[a("header",[a("span",{staticClass:"close",on:{click:t.close}},[t._v("×")]),t._v(" "),a("h3",[t._v("现在Todo\n\t                    \t"),a("svg",{staticClass:"icon"},[a("use",{attrs:{"xlink:href":"#icon-dui"}})])])]),t._v(" "),a("main",[a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.username,expression:"formData.username"}],attrs:{type:"text",placeholder:"邮箱"},domProps:{value:t.formData.username},on:{input:function(e){e.target.composing||(t.formData.username=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"inputbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||(t.formData.password=e.target.value)}}})])]),t._v(" "),a("footer",[a("div",[a("input",{staticClass:"inputbutton",attrs:{type:"submit",value:"登录"},on:{click:t.close}})]),t._v(" "),a("a",{attrs:{href:""}},[t._v("没有账号?")]),t._v(" "),a("a",{attrs:{href:""}},[t._v("忘记密码")])])])])])])])},o=[],n={render:s,staticRenderFns:o};e.a=n},Iay8:function(t,e,a){"use strict";var s=a("mvHQ"),o=a.n(s),n=a("JnRc"),r=a.n(n);e.a={data:function(){return{currentTab:0,newTodo:"",todoList:[[],[],[],[]],doneList:[[],[],[],[]],tags:["重要并且紧急","重要但不紧急","不重要但紧急","不重要不紧急"],loginr:!1,hidel:!1,actionType:"signUp",currentUser:null,formData:{username:"",password:"",repassword:""}}},created:function(){this.currentUser=this.getCurrentUser(),this.fetchTodos()},methods:{fetchTodos:function(){var t=this;if(this.currentUser){new r.a.Query("AllTodos").find().then(function(e){var a=e[0],s=a.id;t.todoList=JSON.parse(a.attributes.do),t.doneList=JSON.parse(a.attributes.done),t.todoList.id=s},function(t){console.error(t)})}},updateTodos:function(){var t=o()(this.todoList),e=o()(this.doneList),a=r.a.Object.createWithoutData("AllTodos",this.todoList.id);a.set("do",t),a.set("done",e),a.save().then(function(){console.log("更新成功")})},saveTodos:function(){var t=this,e=o()(this.todoList),a=o()(this.doneList),s=r.a.Object.extend("AllTodos"),n=new s,i=new r.a.ACL;i.setReadAccess(r.a.User.current(),!0),i.setWriteAccess(r.a.User.current(),!0),n.set("do",e),n.set("done",a),n.setACL(i),n.save().then(function(e){console.log(t.todo),t.todoList.id=e.id},function(t){})},saveOrUpdateTodos:function(){this.todoList.id?this.updateTodos():this.saveTodos()},addTodo:function(t){console.log(this.todoList[t]),this.todoList[t].push({title:this.newTodo,createdAt:new Date,done:!1}),this.newTodo="",this.saveOrUpdateTodos()},Todone:function(t,e){var a=this.todoList[e].indexOf(t);this.doneList[e].push({title:this.todoList[e].slice(a,a+1)[0].title,createdAt:this.todoList[e].slice(a,a+1)[0].createdAt,done:!0,doneAt:new Date}),this.todoList[e].splice(a,1),this.saveOrUpdateTodos()},removeTodo:function(t,e){var a=this.todoList[e].indexOf(t);this.todoList[e].splice(a,1),this.saveOrUpdateTodos()},signUp:function(){var t=this,e=new r.a.User;e.setUsername(this.formData.username),e.setPassword(this.formData.password),e.signUp().then(function(e){t.currentUser=t.getCurrentUser(),alert("注册成功")},function(t){alert("注册失败")})},login:function(){var t=this;r.a.User.logIn(this.formData.username,this.formData.password).then(function(e){t.currentUser=t.getCurrentUser(),t.fetchTodos()},function(t){alert("登录失败")})},getCurrentUser:function(){var t=r.a.User.current();if(t){var e=t.id,a=t.createdAt;return{id:e,username:t.attributes.username,createdAt:a}}return null},logout:function(){alert(this.currentUser.username+"注销成功"),r.a.User.logOut(),this.currentUser=null,window.location.reload()},showlogin:function(){this.hidel=!0},regist:function(){this.loginr=!0},close:function(){this.loginr=!1,this.hidel=!1}}}},M93x:function(t,e,a){"use strict";function s(t){a("a3WH")}var o=a("xJD8"),n=a("vbBH"),r=a("VU/8"),i=s,c=r(o.a,n.a,i,null,null);e.a=c.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),o=a("M93x"),n=a("JnRc"),r=a.n(n),i=a("zL8q"),c=a.n(i),u=a("q8zI");a.n(u);s.default.use(c.a);r.a.init({appId:"hTmHIWs46U02Jg0i3XaaH6Ad-gzGzoHsz",appKey:"Dhu9v1gFUx8AzW6BduGAY1GH"}),s.default.config.productionTip=!1,new s.default({el:"#app",template:"<App/>",components:{App:o.a}})},a3WH:function(t,e){},"d/99":function(t,e){},eCgV:function(t,e,a){"use strict";var s=a("JnRc"),o=a.n(s);e.a={created:function(){var t=this;if(this.currentUser=this.getCurrentUser(),this.currentUser){new o.a.Query("AllTodos").find().then(function(e){var a=e[0],s=a.id;t.todoList=JSON.parse(a.attributes.content1),t.todoList.id=s},function(t){console.error(t)})}},data:function(){return{loginr:!1,hidel:!1,actionType:"signUp",currentUser:null,formData:{username:"",password:""}}},methods:{signUp:function(){var t=this,e=new o.a.User;e.setUsername(this.formData.username),e.setPassword(this.formData.password),e.signUp().then(function(e){t.currentUser=t.getCurrentUser(),console.log("我运行了")},function(t){alert("注册失败")})},login:function(){var t=this;o.a.User.logIn(this.formData.username,this.formData.password).then(function(e){t.currentUser=t.getCurrentUser()},function(t){alert("登录失败")})},getCurrentUser:function(){var t=o.a.User.current();if(t){var e=t.id,a=t.createdAt;return{id:e,username:t.attributes.username,createdAt:a}}return null},logout:function(){alert(this.currentUser.username+"注销成功"),o.a.User.logOut(),this.currentUser=null,window.location.reload()},showlogin:function(){this.hidel=!0},regist:function(){this.loginr=!0},close:function(){this.loginr=!1,this.hidel=!1}}}},q8zI:function(t,e){},v4YQ:function(t,e,a){"use strict";function s(t){a("d/99")}var o=a("eCgV"),n=a("IPlX"),r=a("VU/8"),i=s,c=r(o.a,n.a,i,"data-v-00ab7d1d",null);e.a=c.exports},vbBH:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Todo")],1)},o=[],n={render:s,staticRenderFns:o};e.a=n},xJD8:function(t,e,a){"use strict";var s=a("v4YQ"),o=a("5CTj");e.a={name:"app",components:{Topbar:s.a,Todo:o.a}}}},["NHnr"]);
//# sourceMappingURL=app.8bdb10e62d50d6492e59.js.map